// Generated by CoffeeScript 1.6.2
var chatRoom;

chatRoom = {
  addMessage: function(user, msgtext, callback) {
    var err, id, message, _ref;

    if (!user) {
      err = new TypeError("user is null");
    }
    if (!msgtext) {
      err = new TypeError("Message text is null");
    }
    if (!err) {
      if ((_ref = this.messages) == null) {
        this.messages = [];
      }
      id = this.messages.length + 1;
      message = {
        id: id,
        user: user,
        msgtext: msgtext
      };
      this.messages.push(message);
    }
    if (typeof callback === "function") {
      return callback(err, message);
    }
  },
  getMessagesSince: function(id, callback) {
    var _ref;

    if ((_ref = this.messages) == null) {
      this.messages = [];
    }
    return callback(null, this.messages.slice(id));
  }
};

module.exports = chatRoom;
