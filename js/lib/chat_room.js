// Generated by CoffeeScript 1.6.2
var chatRoom, id;

id = 0;

chatRoom = {
  addMessage: function(user, msgtext, callback) {
    var err, message, _ref;

    if ((_ref = this.messages) == null) {
      this.messages = [];
    }
    if (!user) {
      err = new TypeError("user is null");
    }
    if (!msgtext) {
      err = new TypeError("Message text is null");
    }
    if (!err) {
      message = {
        id: id++,
        user: user,
        msgtext: msgtext
      };
      this.messages.push(message);
    }
    if (typeof callback === "function") {
      return callback(err, message);
    }
  },
  getMessagesSince: function(id, callback) {
    var err;

    err = null;
    return callback(err, this.messages);
  }
};

module.exports = chatRoom;
